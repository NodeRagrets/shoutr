<div ng-controller = 'userProfileController'>
  <nav class = 'navBar'>
  </nav>

  <p class="profileHeader">User Profile</p>

  <!--Basic user info -->
    <div class = 'profileBasics'>
      <p> Name: {{ data.username }} </p>
      <p> Email: {{ data.email }} </p>
    </div>



  <hr>
  <!-- Profile Pic --> 
  <p class="profileHeader2">Avatar</p>
  <div class='profilePicture'>

    <form name="myForm">
    
    <fieldset>
      
      <p>Choose a Photo:</p>

      <br>

      <div ng-if="PicData.profilePic">
        <img ng-src="{{PicData.profilePic}}">
      </div>
      
      

      <input type="file" ngf-select ng-model="picFile" name="file"    
             accept="image/*" ngf-max-size="2MB" required>

      <br>

      <i ng-show="myForm.file.$error.maxSize">File too large 
          {{picFile.size / 1000000|number:1}}MB: max 2M</i>
      
      <div ng-if="!PicData.profilePic">
        
        <img ng-show="myForm.file.$valid" ngf-thumbnail="picFile" class="thumb"> 
        
        <button ng-click="picFile = null" ng-if="PicData.profilePic">Choose new image</button>
      
      </div>
      
      <br>

      <button ng-disabled="!myForm.$valid" 
              ng-click="uploadPic(picFile)">Submit</button>

      <span class="progress" ng-show="picFile.progress >= 0">

        <div style="width:{{picFile.progress}}%" 
            ng-bind="picFile.progress + '%'"></div>

      </span>

      <span ng-show="picFile.result">Upload Successful</span>
      <span class="err" ng-show="errorMsg">{{errorMsg}}</span>

    </fieldset>

    <br>

  </form>
<!--     <img src = "blob:http%3A//localhost%3A3000/30c2c1b5-8713-48af-9856-9fd2f6024b29"> -->
    <!-- <img ng-src="{{ data.userImage }}" height="200" alt="Image preview..."/>
    <button ng-click='storeImageFile()' ng-if="data.userImage"> Use this image </button>
 -->
  </div>

  
</div>
